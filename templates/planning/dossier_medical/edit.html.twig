{% extends 'base.html.twig' %}

{% block title %}Modifier Dossier Médical{% endblock %}

{% block css %}
    <link href="{{ asset('coderthemes.com/osen/layouts/assets/css/app.min.css') }}" rel="stylesheet" type="text/css" id="app-style" />
    <link href="{{ asset('coderthemes.com/osen/layouts/assets/css/icons.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('coderthemes.com/osen/layouts/assets/vendor/sweetalert2/sweetalert2.min.css') }}" rel="stylesheet" type="text/css" />
    <style>
        .form-group { margin-bottom: 1.5rem; }
        .form-control.is-invalid { border-color: #dc3545; }
        .invalid-feedback { display: block; color: #dc3545; font-size: 0.875rem; }
        .card { box-shadow: 0 0.15rem 1.75rem 0 rgba(33, 40, 50, 0.15); }
    </style>
{% endblock %}

{% block body %}
<div class="page-container py-4">
    <div class="page-title-head d-flex align-items-center flex-column flex-sm-row gap-3 mb-4">
        <h4 class="fs-24 fw-semibold mb-0 flex-grow-1">Modifier le dossier médical</h4>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb m-0">
                <li class="breadcrumb-item"><a href="#">MedTravel</a></li>
                <li class="breadcrumb-item"><a href="{{ path('app_planning_dossier_medical_index') }}">dossiers médicaux</a></li>
                <li class="breadcrumb-item active" aria-current="page">modifier dossier médical</li>
            </ol>
        </nav>
    </div>

    {{ form_start(form, {'attr': {'class': 'needs-validation'}}) }}
    <div class="row g-4 mx-0" style="max-width: 100%;">
        <div class="col-lg-12 px-0">
            <div class="card h-100">
                <div class="card-header bg-soft-primary border-bottom border-dashed" style="text-align: center;">
                    <h5 class="card-title mb-0">INFORMATIONS</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            {{ form_label(form.nomPatient, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.nomPatient, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.nomPatient, {'attr': {'class': 'invalid-feedback'}}) }}
                        </div>
                        <div class="col-md-12">
                            {{ form_label(form.testsMedicaux, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.testsMedicaux, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.testsMedicaux, {'attr': {'class': 'invalid-feedback'}}) }}
                        </div>
                        <div class="col-md-12">
                            {{ form_label(form.antecedents, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.antecedents, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.antecedents, {'attr': {'class': 'invalid-feedback'}}) }}
                        </div>
                        <div class="col-md-12">
                            {{ form_label(form.allergies, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.allergies, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.allergies, {'attr': {'class': 'invalid-feedback'}}) }}
                        </div>
                        <div class="col-md-12">
                            {{ form_label(form.restrictionsAlimentaires, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.restrictionsAlimentaires, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.restrictionsAlimentaires, {'attr': {'class': 'invalid-feedback'}}) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_label(form.planningDocteurs, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.planningDocteurs, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.planningDocteurs, {'attr': {'class': 'invalid-feedback'}}) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_label(form.planningAccompagnateurs, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(form.planningAccompagnateurs, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.planningAccompagnateurs, {'attr': {'class': 'invalid-feedback'}}) }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="text-end mt-4">
        <button type="submit" class="btn btn-primary btn-lg me-2">
            <i class="ti ti-check me-1"></i> Enregistrer les modifications
        </button>
        <a href="{{ path('app_planning_dossier_medical_index') }}" class="btn btn-outline-danger btn-lg">
            <i class="ti ti-x me-1"></i> Annuler
        </a>
    </div>
    {{ form_end(form) }}

    {{ include('planning/dossier_medical/_delete_form.html.twig') }}
</div>
{% endblock %}

{% block js %}
<script src="{{ asset('coderthemes.com/osen/layouts/assets/vendor/sweetalert2/sweetalert2.min.js') }}"></script>
{% endblock %} 